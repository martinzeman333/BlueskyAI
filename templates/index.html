<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bluesky AI Manager</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
<div class="container">
    <header class="header">
        <h1>Bluesky AI Manager</h1>
        <p>Automatizujte své Bluesky aktivity pomocí umělé inteligence</p>
    </header>

    <main class="cards-grid">
        <!-- 2. Tlačítko: AI Follow (s novou SVG ikonou) -->
        <div class="action-card success" onclick="callAPI('ai-follow')">
            <span class="card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-plus"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="22" x2="19" y1="11" y2="11"/><line x1="19" x2="19" y1="8" y2="14"/></svg>
            </span>
            <h3 class="card-title">AI Follow</h3>
            <p class="card-description">Objevte a sledujte zajímavé účty na základě AI analýzy</p>
        </div>

        <!-- 3. Tlačítko: AI Unfollow (s novou SVG ikonou) -->
        <div class="action-card warning" onclick="callAPI('ai-unfollow')">
            <span class="card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-minus"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="22" x2="16" y1="11" y2="11"/></svg>
            </span>
            <h3 class="card-title">AI Unfollow</h3>
            <p class="card-description">Automaticky přestaňte sledovat neaktivní nebo nerelevantní účty</p>
        </div>

        <!-- 4. Tlačítko: AI Comment (s novou SVG ikonou) -->
        <div class="action-card" onclick="callAPI('ai-comment')">
            <span class="card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            </span>
            <h3 class="card-title">AI Comment</h3>
            <p class="card-description">Automaticky komentujte příspěvky s relevantními a vtipnými komentáři</p>
        </div>

        <!-- 5. Tlačítko: AI Like (s novou SVG ikonou) -->
        <div class="action-card" onclick="callAPI('ai-like')">
            <span class="card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
            </span>
            <h3 class="card-title">AI Like</h3>
            <p class="card-description">Inteligentně lajkujte příspěvky na základě vašich preferencí</p>
        </div>

        <!-- 6. Tlačítko: AI Post (s novou SVG ikonou) -->
        <div class="action-card primary" onclick="callAPI('ai-post')">
            <span class="card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles"><path d="M9.9 10.8a6.3 6.3 0 0 0 8.242 8.242c.304-.304.593-.62.868-.949"/><path d="M14.242 12.001a6.3 6.3 0 0 0-8.242-8.242c-.304.304-.593.62-.868.949"/><path d="M19 14c-.97-2.03-2.43-3.5-4-4"/><path d="M5 10c.97 2.03 2.43 3.5 4 4"/></svg>
            </span>
            <h3 class="card-title">AI Post</h3>
            <p class="card-description">Automaticky generujte a publikujte chytré příspěvky na Bluesky pomocí AI</p>
        </div>

        <div class="action-card">
            <span class="card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bar-chart-2"><path d="M18 20V10"/><path d="M12 20V4"/><path d="M6 20v-6"/></svg>
            </span>
            <h3 class="card-title">Analytics</h3>
            <p class="card-description">Sledujte výkonnost vašich příspěvků a růst followers</p>
        </div>
    </main>
    
    <section class="search-section">
        <div class="search-container">
            <!-- 7. Pole vyhledávání -->
            <input type="text" class="search-input" placeholder="Hledat funkce, nastavení...">
            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
        </div>
    </section>

    <section class="stats-section">
        <div class="stat-card">
            <div class="stat-number">1,234</div>
            <div class="stat-label">AI Posty</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">5,678</div>
            <div class="stat-label">Auto Liky</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">890</div>
            <div class="stat-label">Komentáře</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">456</div>
            <div class="stat-label">Nový Follow</div>
        </div>
    </section>

    <footer class="footer">
        <p>&copy; 2024 Bluesky AI Manager. Všechna práva vyhrazena.</p>
    </footer>
</div>

<script>
async function callAPI(endpoint) {
    const card = event.currentTarget;
    card.classList.add('loading');
    
    try {
        const response = await fetch(`/api/${endpoint}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            }
        });
        const data = await response.json();
        
        // Simulace notifikace
        showNotification(data.message);
    } catch (error) {
        console.error('Error:', error);
        showNotification('Nastala chyba při volání API', 'error');
    } finally {
        card.classList.remove('loading');
    }
}

function showNotification(message, type = 'success') {
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'error' ? 'rgba(239, 68, 68, 0.9)' : 'rgba(34, 197, 94, 0.9)'};
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        backdrop-filter: blur(20px);
        z-index: 1000;
        animation: slideIn 0.3s ease;
    `;
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.remove();
    }, 3000);
}

// CSS pro animaci notifikace
const style = document.createElement('style');
style.textContent = `
    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
`;
document.head.appendChild(style);
</script>
</body>
</html>
