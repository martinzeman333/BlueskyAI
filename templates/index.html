<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bluesky AI Manager</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
<div class="container">
    <header class="header">
        <h1>Bluesky AI Manager</h1>
        <p>Automatizujte své Bluesky aktivity pomocí umělé inteligence</p>
    </header>

    <section class="search-section">
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Hledat funkce, nastavení...">
            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
        </div>
    </section>

    <main class="cards-grid">
        <div class="action-card primary" onclick="callAPI('ai-post')">
            <span class="card-icon">🚀</span>
            <h3 class="card-title">AI Post</h3>
            <p class="card-description">Automaticky generujte a publikujte chytré příspěvky na Bluesky pomocí AI</p>
        </div>

        <div class="action-card" onclick="callAPI('ai-like')">
            <span class="card-icon">👍</span>
            <h3 class="card-title">AI Like</h3>
            <p class="card-description">Inteligentně lajkujte příspěvky na základě vašich preferencí</p>
        </div>

        <div class="action-card" onclick="callAPI('ai-comment')">
            <span class="card-icon">💬</span>
            <h3 class="card-title">AI Comment</h3>
            <p class="card-description">Automaticky komentujte příspěvky s relevantními a vtipnými komentáři</p>
        </div>

        <div class="action-card success" onclick="callAPI('ai-follow')">
            <span class="card-icon">➕</span>
            <h3 class="card-title">AI Follow</h3>
            <p class="card-description">Objevte a sledujte zajímavé účty na základě AI analýzy</p>
        </div>

        <div class="action-card warning" onclick="callAPI('ai-unfollow')">
            <span class="card-icon">➖</span>
            <h3 class="card-title">AI Unfollow</h3>
            <p class="card-description">Automaticky přestaňte sledovat neaktivní nebo nerelevantní účty</p>
        </div>

        <div class="action-card">
            <span class="card-icon">📊</span>
            <h3 class="card-title">Analytics</h3>
            <p class="card-description">Sledujte výkonnost vašich příspěvků a růst followers</p>
        </div>
    </main>

    <section class="stats-section">
        <div class="stat-card">
            <div class="stat-number">1,234</div>
            <div class="stat-label">AI Posty</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">5,678</div>
            <div class="stat-label">Auto Liky</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">890</div>
            <div class="stat-label">Komentáře</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">456</div>
            <div class="stat-label">Nový Follow</div>
        </div>
    </section>

    <footer class="footer">
        <p>&copy; 2024 Bluesky AI Manager. Všechna práva vyhrazena.</p>
    </footer>
</div>

<script>
async function callAPI(endpoint) {
    const card = event.currentTarget;
    card.classList.add('loading');
    
    try {
        const response = await fetch(`/api/${endpoint}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            }
        });
        const data = await response.json();
        
        // Simulace notifikace
        showNotification(data.message);
    } catch (error) {
        console.error('Error:', error);
        showNotification('Nastala chyba při volání API', 'error');
    } finally {
        card.classList.remove('loading');
    }
}

function showNotification(message, type = 'success') {
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'error' ? 'rgba(239, 68, 68, 0.9)' : 'rgba(34, 197, 94, 0.9)'};
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        backdrop-filter: blur(20px);
        z-index: 1000;
        animation: slideIn 0.3s ease;
    `;
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.remove();
    }, 3000);
}

// CSS for notification animation
const style = document.createElement('style');
style.textContent = `
    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
`;
document.head.appendChild(style);
</script>
</body>
</html>
